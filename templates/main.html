<!DOCTYPE html>
<html lang="en">
<head>

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  <title>GRANT-O-METER</title>
  <meta name="description" content="">
  <meta name="author" content="">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="stylesheet" href="/static/normalize.css">
  <link rel="stylesheet" href="/static/skeleton.css">
  <link rel="stylesheet" href="/static/grumpy.css">

  </head>
<body>

    <!-- Primary Page Layout
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <div class="container gm-max-height" style="height:100%">
        <div class="row gm-max-height">
        <div class="five columns gm-meter">
            <table id="gm-the-meter">
                <tbody>
                    <tr>
                      <td></td>
                      <td></td>
                      <td></td>
                    </tr>
                    <tr id="gm-scale-top">
                        <td></td>
                        <td>
                           <canvas id="myCanvas" width="120" height="500" style="border:0px;border-radius: 50px 50px 0px 0px;text-align:center">
                                <script>
                                    var dGrant = 1;
                                    var grantigkeit = null;
                                    console.log(grantigkeit);

                                    function drawGrantOMeter() {
                                        ctx.clearRect(0,0,120,500);
                                        ctx.fillRect(0,500 - grantigkeit,120,500);
                                        console.log(grantigkeit);
                                    }
                                    function increasGrantigkeit() {
                                        if (grantigkeit <= 250) {
                                            grantigkeit = grantigkeit * 2;
                                        }
                                        if (grantigkeit > 250 && grantigkeit < 500) {
                                            grantigkeit = 500; 
                                        }
                                        if (grantigkeit <= 0) {
                                           grantigkeit = 1;
                                        }
                                        dGrant = 1;
                                        drawGrantOMeter(grantigkeit);
                                    }
                                    function decreaseGrantigkeit() {
                                        if (grantigkeit > 10 && grantigkeit <= 500) {
                                            grantigkeit = grantigkeit - dGrant * 2;
                                            dGrant += 1;
                                        }
                                        if (grantigkeit <= 10 && grantigkeit > 1) {
                                            grantigkeit -= 1;
                                            dGrant = 1;
                                        }
                                        drawGrantOMeter(grantigkeit);
                                    }
                                    var c = document.getElementById("myCanvas");
                                    var ctx = c.getContext("2d");
                                    // Create gradient
                                    var grd = ctx.createLinearGradient(0,600,0,0);
                                    grd.addColorStop(0,"green");
                                    grd.addColorStop(0.1,"yellow");
                                    grd.addColorStop(1,"red");
                                    // Fill with gradient
                                    ctx.fillStyle = grd;
                                    console.log("...");
                                    
                                    drawGrantOMeter(grantigkeit);

                                </script>
                                Your browser does not support the HTML5 canvas tag.
                                </canvas>
                                </td>
                            <td></td>
                        </tr>
                        <tr id="gm-buttons">
                            <td id="gm-minus"><a href="javascript:;"><img src="/static/green-72.png" onClick="decreaseGrantigkeit();" border="0"></a></td>
                            <td id="gm-center"></td>
                            <td id="gm-plus"><a href="javascript:;"><img src="/static/red+72.png" onClick="increasGrantigkeit();" border="0"></a></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="two columns gm-max-height" id="gm-logo"></div>
            <div class="five columns gm-comment">a</div>
        </div>
        The GRANT-O-METER &copy; 2016 Team R.E.D.
    </div>
    <!-- End Document
      –––––––––––––––––––––––––––––––––––––––––––––––––– -->
</body>
</html>
